<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Dashboard Kaizen</title>

<style>
body { font-family: Arial; margin:20px }
.header { background:#0a3d62; color:white; padding:15px }
.filter { margin:15px 0 }
table { width:100%; border-collapse:collapse }
th { background:#0a3d62; color:white; padding:8px }
td { border:1px solid #ccc; padding:8px; text-align:center }
.footer {
  margin-top:30px;
  border-top:2px solid #0a3d62;
  padding-top:10px;
  display:flex;
  justify-content:space-between;
}

.chart-row {
  display: flex;
  gap: 20px;
  margin-top: 20px;
}

.chart-box {
  flex: 1;
  border: 1px solid #ccc;
  padding: 10px;
}

.chart-box h4 {
  margin: 0 0 10px;
  text-align: center;
  color: #0a3d62;
}
.chart-box canvas {
  width: 100% !important;
  height: 260px !important;
}
.header-bar {
  background: #0a3d62;
  padding: 12px 20px;
}

.header-content {
  display: flex;
  align-items: center;
  gap: 15px;
}

.logo {
  height: 50px;
}

.header-text h1 {
  margin: 0;
  color: white;
  font-size: 20px;
}

.header-text p {
  margin: 0;
  color: #dcdde1;
  font-size: 13px;
}

</style>
</head>

<body>

<!-- ===== HEADER ===== -->
<div class="header-bar">
  <div class="header-content">
    <img src="assets/logo.png" class="logo">
    <div class="header-text">
      <h1>PT HANKEN INDONESIA</h1>
      <p>Continuous Improvement</p>
    </div>
  </div>
</div>

<div class="filter">
  Filter:
  <select id="filterMonth">
    <option value="all">Semua Bulan</option>
    <option value="1">Jan</option><option value="2">Feb</option>
    <option value="3">Mar</option><option value="4">Apr</option>
    <option value="5">Mei</option><option value="6">Jun</option>
    <option value="7">Jul</option><option value="8">Agu</option>
    <option value="9">Sep</option><option value="10">Okt</option>
    <option value="11">Nov</option><option value="12">Des</option>
  </select>

  <select id="filterYear">
    <option value="all">Semua Tahun</option>
  </select>
</div>

<p>Total Kaizen: <b id="totalKaizen">0</b></p>
<p>Total Hemat Waktu: <b id="totalTime">0</b> menit</p>
<p>Total Hemat Cost: <b>Rp <span id="totalCost">0</span></b></p>

<table id="kaizenTable">
<thead>
<tr>
  <th>No</th><th>Tanggal</th>
<th>Section</th><th>Judul</th>
  <th>Waktu (Bâ†’A)</th><th>Hemat Waktu</th>
  <th>Cost (Bâ†’A)</th><th>Hemat Cost</th><th>Aksi</th>
</tr>
</thead>
<tbody></tbody>
</table>

<h3>ðŸ“Š Grafik</h3>

<div class="chart-row">
  <div class="chart-box">
    <h4>Hemat Waktu</h4>
    <canvas id="timeChart"></canvas>
  </div>

  <div class="chart-box">
    <h4>Hemat Cost</h4>
    <canvas id="costChart"></canvas>
  </div>
</div>

<div class="footer">
  <div>Prepared by: <span id="preparedByDash">-</span></div>
  <div>Approved by: <span id="approvedByDash">-</span></div>
  <div>Date: <span id="dateDash">-</span></div>
</div>

<!-- ===== MODAL FOTO BEFORE AFTER ===== -->
<div id="photoModal" style="
display:none;
position:fixed;
top:0;
left:0;
width:100vw;
height:100vh;
background:rgba(0,0,0,0.7);
align-items:center;
justify-content:center;
z-index:9999;
">

 <div style="
background:#fff;
padding:15px;
max-width:1000px;
max-height:85vh;
overflow-y:auto;
">

    <h3 style="text-align:center">Before & After</h3>

    <div style="display:flex;gap:15px">
      <div style="width:50%;text-align:center">
        <b>BEFORE</b><br>
        <img id="modalBefore" style="width:100%;border:1px solid #ccc">
      </div>

      <div style="width:50%;text-align:center">
        <b>AFTER</b><br>
        <img id="modalAfter" style="width:100%;border:1px solid #ccc">
      </div>
    </div>

    <br>
    <div style="text-align:right">
      <button onclick="closeModal()">Tutup</button>
    </div>
  </div>
</div>

<div style="margin-top:20px; display:flex; gap:15px; align-items:center">
  <button type="button" onclick="exportKaizenJSON()">ðŸ“¦ Backup Kaizen (JSON)</button>

  <label for="importJson" style="cursor:pointer; background:#eee; padding:6px 10px; border-radius:4px">
    â™» Restore JSON
  </label>
  <input
    type="file"
    id="importJson"
    accept=".json"
    onchange="importKaizenJSON(event)"
    style="display:none"
  >
</div>


<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script type="module" src="./kaizen/dashboard.js"></script>

</body>
</html>
